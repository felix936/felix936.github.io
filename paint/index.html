<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/addons/p5.sound.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8" />
    <title>Paint</title>

  </head>
  <body>
    <main>
      <div class="menu" id="menu">
        <button class="colorpicker">
          <input type="color" id="colorpicker" name="colorpicker" value="#0015ff" />
          <p>Color</p>
        </button>
        <div id="colors">
          <button id="color1" onclick="changeColor('color1')"></button>
          <button id="color2" onclick="changeColor('color2')"></button>
          <button id="color3" onclick="changeColor('color3')"></button>
          <button id="color4" onclick="changeColor('color4')"></button>
          <button id="color5" onclick="changeColor('color5')"></button>
          <button id="color6" onclick="changeColor('color6')"></button>
          <button id="color7" onclick="changeColor('color7')"></button>
          <button id="color8" onclick="changeColor('color8')"></button>
          <button id="color9" onclick="changeColor('color9')"></button>
          <button id="color10" onclick="changeColor('color10')"></button>
          <button id="color11" onclick="changeColor('color11')"></button>
          <button id="color12" onclick="changeColor('color12')"></button>
        </div>
        <div id="tools">
          <label class="container">
            <input type="radio" name="toolSelect" value="tool1" onclick="toolSelected()" checked="checked">
            <span class="checkmark"><span class="toolIcon" id="tool1"></span></span>
          </label>
          <label class="container">
            <input type="radio" name="toolSelect" value="tool2" onclick="toolSelected()">
            <span class="checkmark"><span class="toolIcon" id="tool2"></span></span>
          </label>
          <label class="container">
            <input type="radio" name="toolSelect" value="tool3" onclick="toolSelected()">
            <span class="checkmark"><span class="toolIcon" id="tool3"></span></span>
          </label>
          <label class="container">
            <input type="radio" name="toolSelect"  value="tool4" onclick="toolSelected()">
            <span class="checkmark"><span class="toolIcon" id="tool4"></span></span>
          </label>
          <label class="container">
            <input type="radio" name="toolSelect" value="tool5" onclick="toolSelected()">
            <span class="checkmark"><span class="toolIcon" id="tool5"></span></span>
          </label>
          <label class="container">
            <input type="radio" name="toolSelect" value="tool6" onclick="toolSelected()">
            <span class="checkmark"><span class="toolIcon" id="tool6"></span></span>
          </label>
        </div>
        <input type="range" value="10" min="1" max="50" name="strokeSelect" id="strokeSelect" orient="vertical" oninput="strokeSelected()">
      </div>
      <canvas id="p5Canvas"></canvas>
    </main>
    <script src="sketch.js"></script>
    <script>
      let tool;
      let backgroundColor;
      toolSelected();
      function toolSelected() {
        tool = document.querySelector('input[name="toolSelect"]:checked').value;
        console.log(tool);

        if (tool === "tool3") {
          document.getElementById("p5Canvas").style.background = document.getElementById("colorpicker").value;;
        }
      }

      function strokeSelected() {
        strokeW = document.getElementById("strokeSelect").value/10;
      }

      function changeColor(colorElement) {
        let color, r, g, b;
        color = window.getComputedStyle(document.getElementById(colorElement), "").getPropertyValue("background-color");
        color = color.replace("rgb(", "");
        color = color.replace(")", "");
        color = color.split(", ");
        r = parseInt(color[0]);
        g = parseInt(color[1]);
        b = parseInt(color[2]);
        console.log(color);
        hexColor = rgbToHex(r, g, b);
        document.getElementById('colorpicker').value = hexColor;

        if (tool === "tool3") {
          document.getElementById("p5Canvas").style.background = document.getElementById("colorpicker").value;
        }
      }
      function componentToHex(c) {
        var hex = c.toString(16);
        return hex.length == 1 ? "0" + hex : hex;
      }

      function rgbToHex(r, g, b) {
        return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
      }
    </script>
  </body>
</html>
